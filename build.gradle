subprojects {
    apply plugin: 'java'
    apply plugin: 'maven'
    apply plugin: 'idea'
    apply plugin: 'groovy'

    group = 'io.puharesource.mc'
    version = ''

    compileJava.options.encoding = 'UTF-8'
    
    sourceCompatibility = 1.7
    targetCompatibility = 1.7

    sourceSets {
        main {
            java {
                srcDir 'src/main/java'
            }
            resources {
                srcDir 'src/main/resources'
            }
        }
    }

    task copyToJars(dependsOn: 'build', type: Copy) {
        from 'build/libs/'
        into "../../jars/"
    }

    repositories {
        mavenCentral()

        maven {
            name 'Spigot'
            url 'https://hub.spigotmc.org/nexus/content/groups/public/'
        }

        maven {
            name 'Vault'
            url 'http://nexus.theyeticave.net/content/repositories/pub_releases'
        }

        maven {
            name 'ess-repo'
            url 'http://repo.ess3.net/content/groups/essentials'
        }

        maven {
            name 'kitteh-repo'
            url 'http://repo.kitteh.org/content/groups/public'
        }
    }

    dependencies {
        compile 'org.codehaus.groovy:groovy-all:2.3.7'
        compile 'org.codehaus.groovy:groovy-eclipse-compiler:2.9.1-01'
        compile 'org.codehaus.groovy:groovy-eclipse-batch:2.3.7-01'

        testCompile group: 'junit', name: 'junit', version: '4.11'

        compile 'org.bukkit:bukkit:1.8.3-R0.1-SNAPSHOT'
    }

    artifacts {
        archives jar
    }
}
